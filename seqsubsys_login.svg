<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="344px" preserveAspectRatio="none" style="width:853px;height:344px;" version="1.1" viewBox="0 0 853 344" width="853px" zoomAndPan="magnify"><defs><filter height="300%" id="f65ch6iimzcqk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f65ch6iimzcqk)" height="229.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="243" y="85.7266"/><rect fill="#FFFFFF" filter="url(#f65ch6iimzcqk)" height="99.9648" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="441" y="114.8594"/><rect fill="#FFFFFF" filter="url(#f65ch6iimzcqk)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="606" y="256.5234"/><rect fill="#FFFFFF" filter="url(#f65ch6iimzcqk)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="785" y="143.9922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="93" x2="93" y1="54.5938" y2="332.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="247.5" x2="247.5" y1="54.5938" y2="332.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="446" x2="446" y1="54.5938" y2="332.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="611" x2="611" y1="54.5938" y2="332.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="790" x2="790" y1="54.5938" y2="332.7891"/><rect fill="#FEFECE" filter="url(#f65ch6iimzcqk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="29" y="19.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="36" y="39.292">: Login Handling</text><rect fill="#FEFECE" filter="url(#f65ch6iimzcqk)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="171.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="135" x="178.5" y="22.9951">«subsystem proxy»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="191.5" y="39.292">: Authentication</text><rect fill="#FEFECE" filter="url(#f65ch6iimzcqk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="404" y="19.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="411" y="39.292">: Account</text><rect fill="#FEFECE" filter="url(#f65ch6iimzcqk)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="498" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="572" y="22.9951">«external»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="208" x="505" y="39.292">: Werkzeug security packages</text><rect fill="#FEFECE" filter="url(#f65ch6iimzcqk)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="734" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="751" y="22.9951">«external»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="741" y="39.292">: SQLAlchemy</text><rect fill="#FFFFFF" filter="url(#f65ch6iimzcqk)" height="229.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="243" y="85.7266"/><rect fill="#FFFFFF" filter="url(#f65ch6iimzcqk)" height="99.9648" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="441" y="114.8594"/><rect fill="#FFFFFF" filter="url(#f65ch6iimzcqk)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="606" y="256.5234"/><rect fill="#FFFFFF" filter="url(#f65ch6iimzcqk)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="785" y="143.9922"/><polygon fill="#A80036" points="231,81.7266,241,85.7266,231,89.7266,235,85.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93" x2="237" y1="85.7266" y2="85.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="100" y="80.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="113" y="80.6606">// create account()</text><polygon fill="#A80036" points="429,110.8594,439,114.8594,429,118.8594,433,114.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="253" x2="435" y1="114.8594" y2="114.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="260" y="109.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="273" y="109.7935">getPassword(username)</text><polygon fill="#A80036" points="773,139.9922,783,143.9922,773,147.9922,777,143.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="451" x2="779" y1="143.9922" y2="143.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="458" y="138.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="471" y="138.9263">// send SQL query()</text><polygon fill="#A80036" points="462,169.125,452,173.125,462,177.125,458,173.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="456" x2="789" y1="173.125" y2="173.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="468" y="168.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="481" y="168.0591">// return password</text><polygon fill="#A80036" points="264,210.8242,254,214.8242,264,218.8242,260,214.8242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="258" x2="445" y1="214.8242" y2="214.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="270" y="209.7583">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="283" y="209.7583">// return password hash</text><path d="M8,186.125 L8,226.125 L234,226.125 L234,196.125 L224,186.125 L8,186.125 " fill="#FBFB77" filter="url(#f65ch6iimzcqk)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M224,186.125 L224,196.125 L234,196.125 L224,186.125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="14" y="203.1919">If the user does not exist,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="14" y="218.3247">refuse and mark as bad request</text><polygon fill="#A80036" points="594,252.5234,604,256.5234,594,260.5234,598,256.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="253" x2="600" y1="256.5234" y2="256.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="260" y="251.4575">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="306" x="273" y="251.4575">checkPasswordHash(password, password_hash)</text><polygon fill="#A80036" points="264,281.6563,254,285.6563,264,289.6563,260,285.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="258" x2="610" y1="285.6563" y2="285.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="270" y="280.5903">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="287" y="280.5903"/><polygon fill="#A80036" points="104,310.7891,94,314.7891,104,318.7891,100,314.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="98" x2="247" y1="314.7891" y2="314.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="110" y="309.7231">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="127" y="309.7231"/><!--MD5=[c2c887a2bef3436cf8b7ef0512669a6a]
@startuml

autoactivate on
autonumber
hide footbox

participant ": Login Handling" as handler
participant ": Authentication" as auth <<subsystem proxy>>
participant ": Account" as acc
participant ": Werkzeug security packages" as werkzeug <<external>>
participant ": SQLAlchemy" as orm <<external>>

handler -> auth : // create account()
auth -> acc : getPassword(username)
acc -> orm : // send SQL query()
orm - -> acc : // return password
acc - -> auth : // return password hash
note left
    If the user does not exist,
    refuse and mark as bad request
end note
auth -> werkzeug : checkPasswordHash(password, password_hash)
werkzeug - -> auth
auth - -> handler

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>